<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game for Kids</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
</head>

<body>

    <a href="heb.html" id="language-switch-button" aria-label="Switch to Hebrew">
        HE
    </a>

    <button id="how-to-play-button" aria-label="How to Play">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
            <path
                d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm0-12a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0v-2a1 1 0 0 0-1-1zm0 4a1 1 0 0 0-1 1v4a1 1 0 0 0 2 0v-4a1 1 0 0 0-1-1z" />
        </svg>
    </button>
    <section id="category-selection">
        <div id="player-stats">
            <div class="level-display">
                <span>Level</span>
                <span id="player-level">1</span>
            </div>
            <div class="xp-bar-container">
                <div id="xp-bar" class="xp-bar"></div>
                <span id="xp-text">0 / 100 XP</span>
            </div>
        </div>
        <h2>Choose a Category</h2>
        <div id="category-loader" class="loader-container">
            <div class="loader"></div>
            <p class="loader-text">Loading Categories...</p>
        </div>
        <div class="category-container hidden">
            <select id="category-dropdown" aria-label="Category selection dropdown"></select>
            <div id="difficulty-selection">
                <button class="difficulty-btn active" data-difficulty="easy">Easy (4x4)</button>
                <button class="difficulty-btn" data-difficulty="medium">Medium (5x4)</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard (6x6)</button>
            </div>
            <button id="daily-challenge-button">üèÜ Daily Challenge</button>
            <button id="achievements-button">Achievements</button>
            <button id="start-game-button" disabled>Start Game</button>
        </div>
    </section>

    <header class="hidden">
        <h1>Memory Fun!</h1>
        <p>Moves: <span id="moves-count">0</span></p>
        <p>Time: <span id="timer">00:00</span></p>
        <div class="header-buttons">
            <button id="restart-button">Restart</button>
            <button id="pause-button">Pause</button>
            <button id="hint-button">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                    <path
                        d="M12 2a7 7 0 0 0-7 7c0 1.88.74 3.63 2 4.89V17a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-3.11c1.26-1.26 2-3.01 2-4.89a7 7 0 0 0-7-7zm2 13h-4v-1h4v1zm0-2h-4v-1h4v1zm-2-7a3 3 0 0 1 3 3h-2a1 1 0 0 0-1-1V8z" />
                </svg>
                <span>Hint</span>
            </button>
        </div>
    </header>

    <main class="game-container hidden">
        <section class="memory-game"></section>
    </main>

    <div id="win-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>You Won!</h2>
            <div id="win-stars"></div>
            <p>Great job, you found all the pairs!</p>
            <p id="win-time"></p>
            <p id="best-time"></p>
            <div class="win-modal-buttons">
                <button id="play-again-button">Play Again</button>
                <button id="share-button">Share Score</button>
            </div>
        </div>
    </div>

    <div id="pause-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Game Paused</h2>
            <button id="resume-button">Resume</button>
        </div>
    </div>

    <div id="achievements-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Achievements</h2>
            <div id="achievements-list"></div>
            <button id="close-achievements-button">Close</button>
        </div>
    </div>

    <div id="tutorial-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>How to Play</h2>
            <div class="tutorial-content">
                <div class="tutorial-section">
                    <h3>The Goal</h3>
                    <p>Match all the pairs of cards to clear the board as quickly as you can!</p>
                </div>
                <div class="tutorial-section">
                    <h3>Special Cards (Medium/Hard)</h3>
                    <p><strong>üëÅÔ∏è Peek Card:</strong> Matching these briefly reveals all other cards.</p>
                    <p><strong>üí° Extra Hint Card:</strong> Matching these gives you an extra hint.</p>
                </div>
            </div>
            <button id="close-tutorial-button">Got It!</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <!-- Sound Effects -->
    <audio id="flip-sound" src="https://coloringjungle.com/wp-content/uploads/2025/05/click.mp3" preload="auto"></audio>
    <audio id="match-sound" src="https://coloringjungle.com/wp-content/uploads/2025/05/bubble-pop.mp3"
        preload="auto"></audio>
    <audio id="win-sound" src="https://coloringjungle.com/wp-content/uploads/2025/05/success-fanfare-trumpets-6185.mp3"
        preload="auto"></audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>

</html>